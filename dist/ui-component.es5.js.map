{"version":3,"file":"ui-component.es5.js","sources":["../src/ui-component.ts"],"sourcesContent":["export interface Component {\n  fields: Array<any>\n  source: any\n}\n\nexport interface FieldArgs {\n  label: string\n  transform?: (val: any) => string\n}\n\nexport function source(name: string) {\n  return function(constructor: any) {\n    constructor.prototype._source = name\n  }\n}\n\nexport function field({ label, transform }: FieldArgs) {\n  return function(target: Object, propName: string) {\n    Object.defineProperty(target, `${propName}-UIField`, {\n      get() {\n        return {\n          label,\n          type: 'field',\n          value: transform ? transform(this[propName]) : this[propName]\n        }\n      },\n      enumerable: true\n    })\n  }\n}\n\nexport default class UIComponent {\n  renderComponent() {\n    const component: Component = {\n      fields: [],\n      source: ''\n    }\n\n    for (let k in this) {\n      if (k.endsWith('UIField')) {\n        component.fields.push(this[k])\n      }\n      if (k === '_source') {\n        component.source = this[k]\n      }\n    }\n    return component\n  }\n}\n"],"names":[],"mappings":"SAUgB,MAAM,CAAC,IAAY;IACjC,OAAO,UAAS,WAAgB;QAC9B,WAAW,CAAC,SAAS,CAAC,OAAO,GAAG,IAAI,CAAA;KACrC,CAAA;CACF;AAED,SAAgB,KAAK,CAAC,EAA+B;QAA7B,gBAAK,EAAE,wBAAS;IACtC,OAAO,UAAS,MAAc,EAAE,QAAgB;QAC9C,MAAM,CAAC,cAAc,CAAC,MAAM,EAAK,QAAQ,aAAU,EAAE;YACnD,GAAG;gBACD,OAAO;oBACL,KAAK,OAAA;oBACL,IAAI,EAAE,OAAO;oBACb,KAAK,EAAE,SAAS,GAAG,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC;iBAC9D,CAAA;aACF;YACD,UAAU,EAAE,IAAI;SACjB,CAAC,CAAA;KACH,CAAA;CACF;AAED;IAAA;KAiBC;IAhBC,qCAAe,GAAf;QACE,IAAM,SAAS,GAAc;YAC3B,MAAM,EAAE,EAAE;YACV,MAAM,EAAE,EAAE;SACX,CAAA;QAED,KAAK,IAAI,CAAC,IAAI,IAAI,EAAE;YAClB,IAAI,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE;gBACzB,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAA;aAC/B;YACD,IAAI,CAAC,KAAK,SAAS,EAAE;gBACnB,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAA;aAC3B;SACF;QACD,OAAO,SAAS,CAAA;KACjB;IACH,kBAAC;CAAA,IAAA;;;;;"}