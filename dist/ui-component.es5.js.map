{"version":3,"file":"ui-component.es5.js","sources":["../src/ui-component.ts"],"sourcesContent":["export interface Component {\n    fields: Array<any>;\n    source: any;\n}\n\nexport interface FieldArgs {\n    label: string;\n    transform: (val: any) => string;\n}\n\nexport function source(name: string) {\n    return function(constructor: any) {\n        constructor.prototype._source = name;\n    }\n}\n\nexport function field({ label, transform }: FieldArgs) {\n    return function(target: Object, propName: string) {\n        Object.defineProperty(target, `${propName}-UIField`, {\n            get() {\n                return ({\n                    label,\n                    type: 'field',\n                    value: transform(this[propName])\n                });\n            },\n            enumerable: true\n        });\n    }\n}\n\nexport default class UIComponent {\n    renderComponent() {\n        const component: Component = {\n            fields: [],\n            source: '',\n        };\n\n        for (let k in this) {\n            if (k.endsWith(\"UIField\")) {\n                component.fields.push(this[k]);\n            }\n            if (k === '_source') {\n                component.source = this[k];\n            }\n        }\n        return JSON.stringify(component);\n    }\n}\n"],"names":[],"mappings":"SAUgB,MAAM,CAAC,IAAY;IAC/B,OAAO,UAAS,WAAgB;QAC5B,WAAW,CAAC,SAAS,CAAC,OAAO,GAAG,IAAI,CAAC;KACxC,CAAA;CACJ;AAED,SAAgB,KAAK,CAAC,EAA+B;QAA7B,gBAAK,EAAE,wBAAS;IACpC,OAAO,UAAS,MAAc,EAAE,QAAgB;QAC5C,MAAM,CAAC,cAAc,CAAC,MAAM,EAAK,QAAQ,aAAU,EAAE;YACjD,GAAG;gBACC,QAAQ;oBACJ,KAAK,OAAA;oBACL,IAAI,EAAE,OAAO;oBACb,KAAK,EAAE,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACnC,EAAE;aACN;YACD,UAAU,EAAE,IAAI;SACnB,CAAC,CAAC;KACN,CAAA;CACJ;AAED;IAAA;KAiBC;IAhBG,qCAAe,GAAf;QACI,IAAM,SAAS,GAAc;YACzB,MAAM,EAAE,EAAE;YACV,MAAM,EAAE,EAAE;SACb,CAAC;QAEF,KAAK,IAAI,CAAC,IAAI,IAAI,EAAE;YAChB,IAAI,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE;gBACvB,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;aAClC;YACD,IAAI,CAAC,KAAK,SAAS,EAAE;gBACjB,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;aAC9B;SACJ;QACD,OAAO,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;KACpC;IACL,kBAAC;CAAA,IAAA;;;;;"}