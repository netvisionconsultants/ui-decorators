{"version":3,"file":"ui-component.umd.js","sources":["../src/ui-component.ts"],"sourcesContent":["export interface Component {\n  fields: Array<any>\n  source: any\n}\n\nexport interface FieldArgs {\n  label: string\n  transform?: (val: any) => string\n}\n\nexport function source(name: string) {\n  return function(constructor: any) {\n    constructor.prototype._source = name\n  }\n}\n\nexport function field({ label, transform }: FieldArgs) {\n  return function(target: Object, propName: string) {\n    Object.defineProperty(target, `${propName}-UIField`, {\n      get() {\n        return {\n          label,\n          type: 'field',\n          value: transform ? transform(this[propName]) : this[propName]\n        }\n      },\n      enumerable: true\n    })\n  }\n}\n\nexport default class UIComponent {\n  renderComponent() {\n    const component: Component = {\n      fields: [],\n      source: ''\n    }\n\n    for (let k in this) {\n      if (k.endsWith('UIField')) {\n        component.fields.push(this[k])\n      }\n      if (k === '_source') {\n        component.source = this[k]\n      }\n    }\n    return component\n  }\n}\n"],"names":[],"mappings":";;;;;;WAUgB,MAAM,CAAC,IAAY;MACjC,OAAO,UAAS,WAAgB;UAC9B,WAAW,CAAC,SAAS,CAAC,OAAO,GAAG,IAAI,CAAA;OACrC,CAAA;EACH,CAAC;AAED,WAAgB,KAAK,CAAC,EAA+B;UAA7B,gBAAK,EAAE,wBAAS;MACtC,OAAO,UAAS,MAAc,EAAE,QAAgB;UAC9C,MAAM,CAAC,cAAc,CAAC,MAAM,EAAK,QAAQ,aAAU,EAAE;cACnD,GAAG;kBACD,OAAO;sBACL,KAAK,OAAA;sBACL,IAAI,EAAE,OAAO;sBACb,KAAK,EAAE,SAAS,GAAG,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC;mBAC9D,CAAA;eACF;cACD,UAAU,EAAE,IAAI;WACjB,CAAC,CAAA;OACH,CAAA;EACH,CAAC;EAED;MAAA;OAiBC;MAhBC,qCAAe,GAAf;UACE,IAAM,SAAS,GAAc;cAC3B,MAAM,EAAE,EAAE;cACV,MAAM,EAAE,EAAE;WACX,CAAA;UAED,KAAK,IAAI,CAAC,IAAI,IAAI,EAAE;cAClB,IAAI,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE;kBACzB,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAA;eAC/B;cACD,IAAI,CAAC,KAAK,SAAS,EAAE;kBACnB,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAA;eAC3B;WACF;UACD,OAAO,SAAS,CAAA;OACjB;MACH,kBAAC;EAAD,CAAC,IAAA;;;;;;;;;;;;;;"}