{"version":3,"file":"ui-component.umd.js","sources":["../src/ui-component.ts"],"sourcesContent":["export interface Component {\n    fields: Array<any>;\n    source: any;\n}\n\nexport interface FieldArgs {\n    label: string;\n    transform: (val: any) => string;\n}\n\nexport function source(name: string) {\n    return function(constructor: any) {\n        constructor.prototype._source = name;\n    }\n}\n\nexport function field({ label, transform }: FieldArgs) {\n    return function(target: Object, propName: string) {\n        Object.defineProperty(target, `${propName}-UIField`, {\n            get() {\n                return ({\n                    label,\n                    type: 'field',\n                    value: transform(this[propName])\n                });\n            },\n            enumerable: true\n        });\n    }\n}\n\nexport default class UIComponent {\n    renderComponent() {\n        const component: Component = {\n            fields: [],\n            source: '',\n        };\n\n        for (let k in this) {\n            if (k.endsWith(\"UIField\")) {\n                component.fields.push(this[k]);\n            }\n            if (k === '_source') {\n                component.source = this[k];\n            }\n        }\n        return JSON.stringify(component);\n    }\n}\n"],"names":[],"mappings":";;;;;;aAUgB,MAAM,CAAC,IAAY;QAC/B,OAAO,UAAS,WAAgB;YAC5B,WAAW,CAAC,SAAS,CAAC,OAAO,GAAG,IAAI,CAAC;SACxC,CAAA;IACL,CAAC;AAED,aAAgB,KAAK,CAAC,EAA+B;YAA7B,gBAAK,EAAE,wBAAS;QACpC,OAAO,UAAS,MAAc,EAAE,QAAgB;YAC5C,MAAM,CAAC,cAAc,CAAC,MAAM,EAAK,QAAQ,aAAU,EAAE;gBACjD,GAAG;oBACC,QAAQ;wBACJ,KAAK,OAAA;wBACL,IAAI,EAAE,OAAO;wBACb,KAAK,EAAE,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;qBACnC,EAAE;iBACN;gBACD,UAAU,EAAE,IAAI;aACnB,CAAC,CAAC;SACN,CAAA;IACL,CAAC;IAED;QAAA;SAiBC;QAhBG,qCAAe,GAAf;YACI,IAAM,SAAS,GAAc;gBACzB,MAAM,EAAE,EAAE;gBACV,MAAM,EAAE,EAAE;aACb,CAAC;YAEF,KAAK,IAAI,CAAC,IAAI,IAAI,EAAE;gBAChB,IAAI,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE;oBACvB,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;iBAClC;gBACD,IAAI,CAAC,KAAK,SAAS,EAAE;oBACjB,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;iBAC9B;aACJ;YACD,OAAO,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;SACpC;QACL,kBAAC;IAAD,CAAC,IAAA;;;;;;;;;;;;;;"}